<Interface xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../Interface.xsd">
    <Scripts>
        <Script file="Source/ChatWindow.lua" />
    </Scripts>
    <Windows>
        <Button name="ChatRowTemplate">
            <Size>
                <AbsPoint x="240" y="28" />
            </Size>
            <EventHandlers>
                <EventHandler event="OnUpdate" function="ChatWindow.onRowUpdate"/>
                <EventHandler event="OnInitialize" function="ChatWindow.onRowInitialize"/>
            </EventHandlers>
            <Anchors>
                <Anchor point="bottomleft" relativePoint="bottomleft"/>
            </Anchors>
            <Windows>
                <Label name="$parentItemText" font="inter_medium_16" textalign="leftcenter" autoresizewidth="true">
                    <Size>
                        <AbsPoint x="240" y="28" />
                    </Size>
                    <Anchors>
                        <Anchor point="left" relativePoint="left">
                            <AbsPoint x="8" y="0"/>
                        </Anchor>
                    </Anchors>
                </Label>

                <FullResizeImage name="$parentBackground" inherits="UO_Simple_Black_Background" layer="background" alpha="0.5">
                    <Anchors>
                        <Anchor point="topleft" relativePoint="topleft" relativeTo="$parentItemText">
                            <AbsPoint x="-8" y="0"/>
                        </Anchor>
                        <Anchor point="bottomright" relativePoint="bottomright" relativeTo="$parentItemText">
                            <AbsPoint x="8" y="0"/>
                        </Anchor>
                    </Anchors>
                </FullResizeImage>
            </Windows>
        </Button>

        <Window name="ChatWindow" movable="false">
            <Size>
                <AbsPoint x="240" y="360" />
            </Size>
            <Anchors>
                <Anchor point="bottomleft" relativePoint="bottomleft"/>
            </Anchors>
            <EventHandlers>
                <EventHandler event="OnInitialize" function="ChatWindow.onInitialize"/>
                <EventHandler event="OnShutdown" function="ChatWindow.onShutdown"/>
            </EventHandlers>
            <Windows>
                <Window name="$parentLog" autoresize="true">
                    <Size>
                        <AbsPoint x="0" y="0" />
                    </Size>
                    <Anchors>
                        <Anchor point="topleft" relativePoint="bottomleft" relativeTo="$parentTextInputBackground">
                            <AbsPoint x="0" y="-28"/>
                        </Anchor>
                    </Anchors>
                </Window>

                <FullResizeImage name="$parentTextInputBackground" inherits="UO_Simple_Black_Background" layer="background" alpha="0.5">
                    <Anchors>
                        <Anchor point="bottomleft" relativePoint="bottomleft">
                            <AbsPoint x="-2" y="0"/>
                        </Anchor>
                        <Anchor point="topright" relativePoint="topright" relativeTo="$parentTextInput"/>
                    </Anchors>
                </FullResizeImage>

                <LabeL name="$parentChannelLabel" font="inter_medium_16" textAlign="center" autoresizewidth="true" layer="popup">
                    <Size>
                        <AbsPoint x="70" y="35" />
                    </Size>
                    <Anchors>
                        <Anchor point="bottomleft" relativePoint="bottomleft" relativeTo="$parent">
                            <AbsPoint x="8" y="0"/>
                        </Anchor>
                    </Anchors>
                </LabeL>

                <EditBox name="$parentTextInput" maxchars="256" scrolling="horz" font="inter_medium_16" history="15" layer="popup" sticky="false">
                    <TextOffset x="4" y="4" />
                    <Size>
                        <AbsPoint x="300" y="35" />
                    </Size>
                    <Anchors>
                        <Anchor point="bottomright" relativePoint="bottomleft" relativeTo="$parentChannelLabel"/>
                        <Anchor point="bottomright" relativePoint="bottomright" relativeTo="Root"/>
                    </Anchors>
                    <EventHandlers>
                        <EventHandler event="OnKeyEnter" function="ChatWindow.sendChat"/>
                        <EventHandler event="OnKeyEscape" function="ChatWindow.clearFocus"/>
                        <EventHandler event="OnTextChanged" function="ChatWindow.onTextChanged"/>
                    </EventHandlers>
                </EditBox>
            </Windows>
        </Window>

    </Windows>
</Interface>