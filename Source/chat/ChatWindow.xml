<Interface xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../Interface.xsd">
    <Scripts>
        <Script file="Source/ChatWindow.lua" />
    </Scripts>
    <Windows>
        <Window name="ChatWindow" movable="true">
            <Size>
                <AbsPoint x="480" y="360" />
            </Size>
            <Anchors>
                <Anchor point="bottomleft" relativePoint="bottomleft"/>
            </Anchors>
            <EventHandlers>
                <EventHandler event="OnInitialize" function="ChatWindow.onInitialize"/>
                <EventHandler event="OnShutdown" function="ChatWindow.onShutdown"/>
            </EventHandlers>
            <Windows>
                <LogDisplay name="$parentLog" font="UO_DefaultText_15pt" scrollbar="$parentScrollbar" textFadeTime="10" scrollbarPosition="right" maxchars="4096" maxentries="4096" wordwrap="true">
                    <Size>
                        <AbsPoint x="480" y="325" />
                    </Size>
                    <TextOffset x="4" y="4" />
                    <Windows>
                        <VerticalScrollbar name="$parentScrollbar"  up="StandardVertScrollUpBtn" down="StandardVertScrollDownBtn" thumb="StandardVertScrollThumb">
                            <Size>
                                <AbsPoint x="20" y="0" />
                            </Size>
                            <ThumbOffset x="0" y="0" />
                            <Anchors>
                                <Anchor point="topright" relativePoint="topleft">
                                    <AbsPoint x="-10" y="0" />
                                </Anchor>
                                <Anchor point="bottomright" relativePoint="bottomright" />
                            </Anchors>
                        </VerticalScrollbar>
                    </Windows>
                </LogDisplay>

                <!-- Body background -->
                <FullResizeImage name="$parentWindowBackground" inherits="UO_Simple_Black_Background">
                    <Anchors>
                        <Anchor point="topleft" relativePoint="topleft" />
                        <Anchor point="bottomright" relativePoint="bottomright" />
                    </Anchors>
                </FullResizeImage>

                <!-- Inner Frame Boilerplate -->
                <FullResizeImage name="$parentFrame" inherits="UO_Simple_Frame" layer="background" frameonly="true">
                    <Anchors>
                        <Anchor point="topleft" relativePoint="topleft" relativeTo="$parent"/>
                        <Anchor point="bottomright" relativePoint="bottomright" relativeTo="$parent" />
                    </Anchors>
                </FullResizeImage>
                <!-- End of Inner Frame Boilerplate -->

                <FullResizeImage name="$parentFrame" inherits="UO_Simple_Frame" layer="background" frameonly="true">
                    <Anchors>
                        <Anchor point="topleft" relativePoint="topleft" relativeTo="$parentChannelLabel">
                            <AbsPoint x="-8" y="0"/>
                        </Anchor>
                        <Anchor point="bottomright" relativePoint="bottomright" relativeTo="$parentTextInput">
                            <AbsPoint x="0" y="0"/>
                        </Anchor>
                    </Anchors>
                </FullResizeImage>

                <LabeL name="$parentChannelLabel" font="UO_ChatText" textAlign="center" autoresizewidth="true" layer="popup">
                    <Size>
                        <AbsPoint x="70" y="35" />
                    </Size>
                    <Anchors>
                        <Anchor point="bottomleft" relativePoint="topleft" relativeTo="$parentLog">
                            <AbsPoint x="8" y="0"/>
                        </Anchor>
                    </Anchors>
                </LabeL>

                <EditBox name="$parentTextInput" maxchars="256" scrolling="horz" font="UO_ChatText" history="15" layer="popup" sticky="false">
                    <TextOffset x="4" y="4" />
                    <Size>
                        <AbsPoint x="300" y="35" />
                    </Size>
                    <Anchors>
                        <Anchor point="bottomright" relativePoint="bottomleft" relativeTo="$parentChannelLabel"/>
                        <Anchor point="bottomright" relativePoint="topright"  relativeTo="$parentLog"/>
                    </Anchors>
                    <EventHandlers>
                        <EventHandler event="OnKeyEnter" function="ChatWindow.sendChat"/>
                        <EventHandler event="OnKeyEscape" function="ChatWindow.clearFocus"/>
                        <EventHandler event="OnTextChanged" function="ChatWindow.onTextChanged"/>
                    </EventHandlers>
                </EditBox>
            </Windows>
        </Window>

    </Windows>
</Interface>